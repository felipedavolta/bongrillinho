<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo do BonGrillinho</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #870601;
            color: #333;
            text-align: center;
        }

        #logo-container {
            width: 100%;
            max-width: 600px;
            display: flex;
            justify-content: center;
            background: #870601;
            padding: 0;
        }

        #logo-bongrillinho {
            width: 100%;
            max-width: none;
            height: auto;
            display: block;
        }

        .container {
            width: 90%;
            max-width: 600px;
            padding: 20px;
            border-radius: 30px;
            box-shadow: 0px 20px 30px rgba(0, 0, 0, 0.2);
            margin: 0 20px 20px 20px;
            box-sizing: border-box;
            background-color: rgba(255, 255, 255, 0.9);
        }

        #slot-machine {
            padding: 0;
            border-radius: 30px;
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
            margin-top: 20px;
        }

        .slot-item {
            font-size: 1.2rem;
            margin-bottom: 0.75rem;
            padding: 0.8rem;
            border-radius: 25px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            word-wrap: break-word;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            overflow: hidden;
            position: relative;
            transition: all 0.3s ease;
            height: 50px;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;
        }

        #prato-principal {
            font-size: 1.2rem;
            font-weight: 700;
            background-color: #f4eb80;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .slot-item:last-child {
            margin-bottom: 0;
        }

        .slot-item:hover {
            background-color: #f0f0f0;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        @media (min-width: 640px) {
            .slot-item {
                font-size: 1.4rem;
            }
        }

        #preco {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 1.25rem;
            padding: 0.5rem 1rem;
            border-radius: 30px;
            color: #333;
            border: none;
            margin-top: 0px;
            display: none;
        }

        @media (min-width: 640px) {
            #preco {
                font-size: 1.2rem;
            }
        }

        #embaralhar {
            background-color: #b83e2d;
            color: white;
            padding: 10px 20px;
            padding: 0.8rem;
            width: 100%;
            max-width: 400px;
            text-align: center;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease-in-out;
            font-size: 1.2em;
        }

        #embaralhar:hover {
            background-color: #b83e2d;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        #embaralhar:active {
            background-color: #943022;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transform: scale(0.93) translateY(2px);
        }


        @media (max-width: 600px) {
            #embaralhar {
                width: 100%;
                max-width: 250px;
            }
        }


        .emoji {
            font-size: 1.75rem;
            margin-right: 0.5rem;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        @media (min-width: 640px) {
            .emoji {
                font-size: 2rem;
            }
        }

        @media (min-width: 800px) {
            .container {
                border-radius: 30px;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
                width: 500px;
            }
        }

        .slot-item-content {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .slot-item-text {
            position: relative;
            z-index: 1;
            color: #333;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 90%;
        }

        .sliding-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f0e68c;
            transform: translateX(100%);
            transition: transform 0.5s ease-in-out;
            z-index: 2;
        }

        .sliding-background.slide-in {
            transform: translateX(0);
        }

        .sliding-background.slide-out {
            transform: translateX(-100%);
        }

        .reveal-animation {
            animation: reveal 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(-20px);
        }

        @keyframes reveal {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>    <body>
        <div id="logo-container">
            <img src="logo_bongrillinho.jpg" alt="BonGrillinho Logo" id="logo-bongrillinho" />
        </div>
        <div class="container">
            <p style="margin: 0 0 1.5rem 0; font-size: 1.1rem; color: #333;">Está indeciso? Clica aqui e boa sorte no BonGrillinho!</p>
            <div id="slot-machine">
                <div class="slot-item" id="prato-principal">
                    <div class="slot-item-content">
                        <span class="slot-item-text">Prato Principal</span>
                        <div class="sliding-background"></div>
                    </div>
                </div>
                <div class="slot-item" id="acompanhamento1">
                     <div class="slot-item-content">
                        <span class="slot-item-text">Acompanhamento 1</span>
                        <div class="sliding-background"></div>
                    </div>
                </div>
                <div class="slot-item" id="acompanhamento2">
                    <div class="slot-item-content">
                        <span class="slot-item-text">Acompanhamento 2</span>
                        <div class="sliding-background"></div>
                    </div>
                </div>
                <div class="slot-item" id="acompanhamento3">
                    <div class="slot-item-content">
                        <span class="slot-item-text">Acompanhamento 3</span>
                        <div class="sliding-background"></div>
                    </div>
                </div>
            </div>
            <button id="embaralhar">Embaralhar!</button>
        </div>
    <script>
        const pratosPrincipais = [
            { nome: "Baby beef", preco: 25.40 },
            { nome: "Bife à milanesa", preco: 26.25 },
            { nome: "Bife à parmegiana", preco: 27.45 },
            { nome: "Filé de frango à milanesa", preco: 25.80 },
            { nome: "Filé de frango à parmegiana", preco: 26.35 },
            { nome: "Filé de peixe à milanesa", preco: 25.95 },
            { nome: "Filé de peito de frango", preco: 22.85 },
            { nome: "Filé de salmão", preco: 36.80 },
            { nome: "Filé de tilápia à milanesa", preco: 27.00 },
            { nome: "Filé mignon", preco: 36.65 },
            { nome: "Linguiça calabresa", preco: 19.00 },
            { nome: "Maminha", preco: 24.20 },
            { nome: "Sobrecoxa desossada", preco: 20.70 }
        ];
        const acompanhamentos3 = [
            { nome: "Abóbora", preco: 8.50 },
            { nome: "Arroz branco", preco: 6.00 },
            { nome: "Arroz com brócolis", preco: 7.50 },
            { nome: "Arroz com grãos", preco: 8.00 },
            { nome: "Arroz integral", preco: 7.00 },
            { nome: "Batata-doce", preco: 9.00 },
            { nome: "Batata frita", preco: 10.00 },
            { nome: "Batata sauté", preco: 11.00 },
            { nome: "Brócolis cozido", preco: 8.00 },
            { nome: "Creme de espinafre", preco: 12.00 },
            { nome: "Creme de milho", preco: 10.50 },
            { nome: "Creme de palmito", preco: 13.00 },
            { nome: "Farofa", preco: 7.00 },
            { nome: "Feijão preto", preco: 6.50 },
            { nome: "Legumes cozidos", preco: 9.50 },
            { nome: "Legumes grelhados", preco: 10.50 },
            { nome: "Mandioca cozida", preco: 8.00 },
            { nome: "Bolinho de mandioca", preco: 12.50 },
            { nome: "Onion rings", preco: 11.50 },
            { nome: "Ovos cozidos", preco: 5.00 },
            { nome: "Polenta frita", preco: 9.00 },
            { nome: "Purê de batata", preco: 10.00 },
            { nome: "Salada primavera", preco: 14.00 }
        ];
        const acompanhamentos1 = [
            { nome: "Penne", preco: 15.00 },
            { nome: "Nhoque", preco: 16.00 },
            { nome: "Espaguete", preco: 14.50 },
            { nome: "Salada Carnevale", preco: 17.00 },
            { nome: "Risoto de brócolis", preco: 18.00 },
            { nome: "Risoto à piamontese", preco: 19.00 }
        ];
        const pratoPrincipalElement = document.getElementById("prato-principal");
        const acompanhamento1Element = document.getElementById("acompanhamento1");
        const acompanhamento2Element = document.getElementById("acompanhamento2");
        const acompanhamento3Element = document.getElementById("acompanhamento3");
        const embaralharButton = document.getElementById("embaralhar");
        let animando = false;
        let intervaloRotacao;
        let contadorRotacoes = 0;
        const tempoTotalAnimacao = 1000;
        const intervaloAtualizacao = 100;
        const numeroAtualizacoes = tempoTotalAnimacao / intervaloAtualizacao;

        function escolherAleatorio(array) {
            const indiceAleatorio = Math.floor(Math.random() * array.length);
            return array[indiceAleatorio];
        }

        function escolherAcompanhamentos() {
            const tipoAcompanhamento = Math.random() < 0.7; // 70% de chance de ter 3 acompanhamentos
            if (tipoAcompanhamento) {
                const escolhido1 = escolherAleatorio(acompanhamentos3);
                let escolhido2, escolhido3;
                do {
                    escolhido2 = escolherAleatorio(acompanhamentos3);
                } while (
                    escolhido2 === escolhido1 ||
                    (escolhido1.nome.includes("Batata") && escolhido2.nome.includes("Batata")) ||
                    (escolhido1.nome.includes("Legumes cozidos") && escolhido2.nome.includes("Legumes grelhados")) ||
                    (escolhido1.nome.includes("Legumes grelhados") && escolhido2.nome.includes("Legumes cozidos")) ||
                    (escolhido1.nome.includes("Purê de batata") && escolhido2.nome.includes("Batata")) ||
                    (escolhido2.nome.includes("Purê de batata") && escolhido1.nome.includes("Batata")) ||
                    (escolhido1.nome.includes("Arroz com brócolis") && escolhido2.nome.includes("Brócolis cozido")) ||
                    (escolhido2.nome.includes("Arroz com brócolis") && escolhido1.nome.includes("Brócolis cozido"))
                );
                do {
                    escolhido3 = escolherAleatorio(acompanhamentos3);
                } while (
                    escolhido3 === escolhido1 ||
                    escolhido3 === escolhido2 ||
                    (escolhido1.nome.includes("Batata") && escolhido3.nome.includes("Batata")) ||
                    (escolhido2.nome.includes("Batata") && escolhido3.nome.includes("Batata")) ||
                    (escolhido1.nome.includes("Legumes cozidos") && escolhido3.nome.includes("Legumes grelhados")) ||
                    (escolhido1.nome.includes("Legumes grelhados") && escolhido3.nome.includes("Legumes cozidos")) ||
                    (escolhido2.nome.includes("Legumes cozidos") && escolhido3.nome.includes("Legumes grelhados")) ||
                    (escolhido2.nome.includes("Legumes grelhados") && escolhido3.nome.includes("Legumes cozidos")) ||
                    (escolhido1.nome.includes("Purê de batata") && escolhido3.nome.includes("Batata")) ||
                    (escolhido3.nome.includes("Purê de batata") && escolhido1.nome.includes("Batata")) ||
                    (escolhido2.nome.includes("Purê de batata") && escolhido3.nome.includes("Batata")) ||
                    (escolhido3.nome.includes("Purê de batata") && escolhido2.nome.includes("Batata")) ||
                    (escolhido1.nome.includes("Arroz com brócolis") && escolhido3.nome.includes("Brócolis cozido")) ||
                    (escolhido3.nome.includes("Arroz com brócolis") && escolhido1.nome.includes("Brócolis cozido")) ||
                    (escolhido2.nome.includes("Arroz com brócolis") && escolhido3.nome.includes("Brócolis cozido")) ||
                    (escolhido3.nome.includes("Arroz com brócolis") && escolhido2.nome.includes("Brócolis cozido"))
                );
                return [escolhido1, escolhido2, escolhido3];
            } else {
                const escolhidoUnico = escolherAleatorio(acompanhamentos1);
                return [escolhidoUnico, {}, {}];
            }
        }

        function atualizarInterface(prato, acompanhamentos) {
            const pratoPrincipalElementContent = pratoPrincipalElement.querySelector('.slot-item-content');
            const acompanhamento1ElementContent = acompanhamento1Element.querySelector('.slot-item-content');
            const acompanhamento2Element = document.getElementById("acompanhamento2");
            const acompanhamento3Element = document.getElementById("acompanhamento3");

            pratoPrincipalElementContent.innerHTML = `<span class="slot-item-text">${prato.nome}</span>`;

            // Sempre mostra os 3 acompanhamentos, mas só preenche se houver nome
            acompanhamento1ElementContent.innerHTML = acompanhamentos[0] && acompanhamentos[0].nome
                ? `<span class="slot-item-text">${acompanhamentos[0].nome}</span>` : "";
            acompanhamento2Element.querySelector('.slot-item-content').innerHTML = acompanhamentos[1] && acompanhamentos[1].nome
                ? `<span class="slot-item-text">${acompanhamentos[1].nome}</span>` : "";
            acompanhamento3Element.querySelector('.slot-item-content').innerHTML = acompanhamentos[2] && acompanhamentos[2].nome
                ? `<span class="slot-item-text">${acompanhamentos[2].nome}</span>` : "";
        }

        function embaralharPrato() {
            if (animando) return;
            animando = true;
            contadorRotacoes = 0;
            let nomesPratos = [];
            let nomesAcompanhamentos1 = [];
            let nomesAcompanhamentos2 = [];
            let nomesAcompanhamentos3 = [];

            const pratoPrincipalElementContent = pratoPrincipalElement.querySelector('.slot-item-content');
            const acompanhamento1ElementContent = acompanhamento1Element.querySelector('.slot-item-content');
            const acompanhamento2Element = document.getElementById("acompanhamento2");
            const acompanhamento3Element = document.getElementById("acompanhamento3");

            // Sorteio se será 1 ou 3 acompanhamentos para a animação
            const sorteioAcompanhamentoUnico = Math.random() >= 0.7;

            intervaloRotacao = setInterval(() => {
                nomesPratos.push(escolherAleatorio(pratosPrincipais).nome);

                if (sorteioAcompanhamentoUnico) {
                    nomesAcompanhamentos1.push(escolherAleatorio(acompanhamentos1).nome);
                    nomesAcompanhamentos2.push("");
                    nomesAcompanhamentos3.push("");
                } else {
                    nomesAcompanhamentos1.push(escolherAleatorio(acompanhamentos3).nome);
                    nomesAcompanhamentos2.push(escolherAleatorio(acompanhamentos3).nome);
                    nomesAcompanhamentos3.push(escolherAleatorio(acompanhamentos3).nome);
                }

                pratoPrincipalElementContent.innerHTML = `<span class="slot-item-text">${nomesPratos[contadorRotacoes % nomesPratos.length]}</span>`;
                acompanhamento1ElementContent.innerHTML = nomesAcompanhamentos1[contadorRotacoes % nomesAcompanhamentos1.length]
                    ? `<span class="slot-item-text">${nomesAcompanhamentos1[contadorRotacoes % nomesAcompanhamentos1.length]}</span>` : "";
                acompanhamento2Element.querySelector('.slot-item-content').innerHTML = nomesAcompanhamentos2[contadorRotacoes % nomesAcompanhamentos2.length]
                    ? `<span class="slot-item-text">${nomesAcompanhamentos2[contadorRotacoes % nomesAcompanhamentos2.length]}</span>` : "";
                acompanhamento3Element.querySelector('.slot-item-content').innerHTML = nomesAcompanhamentos3[contadorRotacoes % nomesAcompanhamentos3.length]
                    ? `<span class="slot-item-text">${nomesAcompanhamentos3[contadorRotacoes % nomesAcompanhamentos3.length]}</span>` : "";

                contadorRotacoes++;

                if (contadorRotacoes >= numeroAtualizacoes) {
                    clearInterval(intervaloRotacao);
                    intervaloRotacao = null;
                    const pratoEscolhido = escolherAleatorio(pratosPrincipais);
                    const acompanhamentosEscolhidos = escolherAcompanhamentos();
                    atualizarInterface(pratoEscolhido, acompanhamentosEscolhidos);
                    animando = false;
                }
            }, intervaloAtualizacao);
        }

        embaralharButton.addEventListener("click", embaralharPrato);

        // Inicia a animação ao abrir a página
        embaralharPrato();
    </script>
</body>
</html>
